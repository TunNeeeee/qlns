<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head th:replace="admin/fragments/head::head">
</head>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper h-100">

    <!--    <header th:replace="admin/fragments/header::header"></header>-->

    <!-- =============================================== -->
    <div class="row m-0" style="height: 100%">
        <nav class="col-2">
            <div th:replace="admin/fragments/sidebar::sidebar"></div>
        </nav>
        <!-- Left side column. contains the sidebar -->


        <!-- =============================================== -->

        <!-- Content Wrapper. Contains page content -->

        <!-- /.content-wrapper -->
        <main class="col-10 px-0 overflow-y-hidden">
            <div id="header" class="bg-white p-2 px-4 d-flex justify-content-between align-items-center">
                <img class="cursor-pointer" data-size="30" th:src="@{/assets/icon/menu.png}" alt="menu">
                <div class="d-flex gap-4 align-items-center">
                    <img class="cursor-pointer" th:src="@{/assets/icon/question.png}" alt="question"
                         data-size="30"/>
                    <div class="d-flex gap-1 align-items-center cursor-pointer">
                        <img class="avatar rounded rounded-circle overflow-hidden"
                             th:src="@{/assets/image/big_logo_light.png}"
                             alt="avatar" data-size="30"/>
                        <div>
                            <p class="p-0 m-0">
                                <span class="id-user fw-bold">654646</span>
                                <span> | </span>
                                <span class="name-user fw-bold">Nguyễn Đình Tuấn</span>
                            </p>
                            <span class="text-secondary fs-7">TA</span>
                        </div>
                    </div>
                </div>
            </div>
            <section  class="frame-data row p-2 mx-0" data-frame="1">
                <div class="col-8 d-flex flex-column gap-2">
                    <div class="notify d-flex flex-grow-0 bg-white py-2 px-3 rounded rounded-2 justify-content-between cursor-pointer">
                        <span>New hiring request</span>
                        <img class="arrow" th:src="@{/assets/icon/arrow-down.png}" alt="arrow-down"
                             data-size="20"/>
                    </div>
                    <div class="notify d-flex flex-grow-0 bg-white py-2 px-3 rounded rounded-2 justify-content-between cursor-pointer">
                        <span>New hiring request</span>
                        <img class="arrow" th:src="@{/assets/icon/arrow-down.png}" alt="arrow-down"
                             data-size="20"/>
                    </div>
                    <div class="notify d-flex flex-grow-0 bg-white py-2 px-3 rounded rounded-2 justify-content-between cursor-pointer">
                        <span>New hiring request</span>
                        <img class="arrow" th:src="@{/assets/icon/arrow-down.png}" alt="arrow-down"
                             data-size="20"/>
                    </div>
                </div>
                <div class="col-4 d-flex flex-column gap-2">
                    <div class="bg-white py-2 rounded rounded-2">
                        <div class="d-flex justify-content-between px-3 py-1">
                            <h6 class="fw-bold">Upcoming interview schedule (0/0)</h6>
                        </div>
                        <hr class="p-0 my-0"/>
                        <div class="d-flex justify-content-between px-3 pt-2">
                            <span class="color-primary cursor-pointer">View all</span>
                            <span class="color-primary">Today (0)</span>
                        </div>
                    </div>

                    <div class="bg-white py-2 rounded rounded-2">
                        <div class="d-flex justify-content-between px-3 py-1">
                            <h6 class="fw-bold">Task to do (0/0)</h6>
                        </div>
                        <hr class="p-0 my-0"/>
                        <div class="d-flex justify-content-between px-3 pt-2">
                            <span class="color-primary cursor-pointer">View all</span>
                            <span class="color-primary">Today (0)</span>
                        </div>
                    </div>

                    <div class="bg-white py-2 rounded rounded-2">
                        <div class="d-flex justify-content-between px-3 py-1">
                            <h6 class="fw-bold ">Newest events (3/3)</h6>
                            <span class="color-primary cursor-pointer">+ Add event</span>
                        </div>
                        <hr class="p-0 my-0"/>
                        <div class="body">
                            <div class="p-3 cursor-pointer">
                                <h6 class="text-uppercase fw-bold mb-0">Công việc ổn định, đảm ảo tương tai tại AEON
                                    xuất
                                    thủy</h6>
                                <span class="fs-7">Creation time: 15/07/2024 - 15:38</span>
                            </div>
                            <hr class="p-0 my-0"/>
                            <div class="p-3 cursor-pointer">
                                <h6 class="text-uppercase fw-bold mb-0">Công việc ổn định, đảm ảo tương tai tại AEON
                                    xuất
                                    thủy</h6>
                                <span class="fs-7">Creation time: 15/07/2024 - 15:38</span>
                            </div>
                            <hr class="p-0 my-0"/>
                            <div class="p-3 cursor-pointer">
                                <h6 class="text-uppercase fw-bold mb-0">Công việc ổn định, đảm ảo tương tai tại AEON
                                    xuất
                                    thủy</h6>
                                <span class="fs-7">Creation time: 15/07/2024 - 15:38</span>
                            </div>
                            <hr class="p-0 my-0"/>
                        </div>
                        <div class="d-flex justify-content-between px-3 pt-2">
                            <span class="color-primary cursor-pointer">View all</span>
                            <span class="color-primary">Today (0)</span>
                        </div>
                    </div>
                </div>
            </section>
            <section id="frame-data" class="frame-data row p-2 mx-0" data-frame="2">
                <div th:fragment="content" class="container mt-4">
                    <h1 class="mb-4">Danh sách hợp đồng</h1>

                    <div class="mb-3">
                        <a th:href="@{/admin/employees/new}" class="btn btn-primary">Thêm hợp đồng </a>
                    </div>

                    <table class="table table-striped table-bordered">
                        <thead class="pin-top bg-white">
                        <tr class="gap-4 p-3 border border-1 border-start-0 border-top-0 border-end-0 border-secondary">
                            <th class="sortable" data-size="200">
                                Tên nhân viên
                            </th>
                            <th class="sortable" data-size="200">
                                Tên loại hợp đồng
                            </th>
                            <th class="sortable" data-size="100">
                                Ngày bắt đầu
                            </th>
                            <th class="sortable" data-size="100">
                                Ngày kết thúc
                            </th>
                            <th class="sortable" data-size="100">
                                Hành động
                            </th>
                            <th data-size="30"></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="contract : ${contracts}">
                            <td th:text="${contract.employee.name}"></td>
                            <td th:text="${contract.contractType}"></td>
                            <td th:text="${#dates.format(contract.startDate, 'dd/MM/yyyy')}"></td>
                            <td th:text="${#dates.format(contract.endDate, 'dd/MM/yyyy')}"></td>
                            <td>
                                <a th:href="@{/admin/contracts/{id}(id=${contract.id})}"
                                   class="btn btn-warning btn-sm">Xem</a>
                                <a th:href="@{/admin/contracts/delete/{id}(id=${contract.id})}"
                                   class="btn btn-danger btn-sm">Xóa</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section class="frame-data row p-2 mx-0" data-frame="5" style="display: none;">
                <div th:fragment="content" class="container mt-4">
                    <h1 class="mb-4">Danh sách nhân viên</h1>

                    <div class="mb-3">
                        <a th:href="@{/admin/employees/new}" class="btn btn-primary">Thêm nhân viên</a>
                    </div>

                    <table class="bg-white position-relative ln-table" id="table-e-signature-management" data-max-row="5">
                        <thead class="pin-top bg-white">
                        <tr class="gap-4 p-3 border border-1 border-start-0 border-top-0 border-end-0 border-secondary">
                            <th class="sortable" data-size="190">
                                Họ và tên
                            </th>
                            <th class="sortable" data-size="100">
                                Phòng ban
                            </th>
                            <th class="sortable" data-size="120">
                                Chức vụ
                            </th>
                            <th class="sortable" data-size="100">
                                Trạng thái
                            </th>
                            <th class="sortable" data-size="100">
                                Ngày sinh
                            </th>
                            <th class="sortable" data-size="150">
                                Số điện thoại
                            </th>
                            <th class="sortable" data-size="100">
                                Địa chỉ
                            </th>
                            <th class="sortable" data-size="100">
                                Tài khoản
                            </th>
                            <th class="sortable" data-size="100">
                                Hành động
                            </th>
                            <th data-size="30"></th>
                        </tr>
                        </thead>
                        <tbody data-style="gap-2 p-3 border border-1 border-start-0 border-top-0 border-end-0 border-secondary">
                        <tr class="gap-4 p-3" th:each="employee : ${employees}">
                            <td th:text="${employee.name}"></td>
                            <td th:text="${employee.department}"></td>
                            <td th:text="${employee.position}"></td>
                            <td th:text="${employee.status}"></td>
                            <td th:text="${#dates.format(employee.dateOfBirth, 'dd/MM/yyyy')}"></td>
                            <!-- Định dạng ngày sinh -->
                            <td th:text="${employee.phone}"></td>
                            <!-- Sửa lại từ employee.department thành employee.phone -->
                            <td th:text="${employee.address}"></td> <!-- Thêm địa chỉ -->
                            <td th:text="${employee.username}"></td> <!-- Sửa lại từ position thành username -->
                            <td class="text-center">
                                <a th:href="@{/admin/employees/edit/{id}(id=${employee.id})}"
                                   class="btn btn-warning btn-sm">Sửa</a>
                                <a th:href="@{/admin/employees/delete/{id}(id=${employee.id})}"
                                   class="btn btn-danger btn-sm"
                                   onclick="return confirm('Bạn có chắc chắn muốn xóa nhân viên này không?');">Xóa</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!--    <footer th:replace="admin/fragments/footer::footer"></footer>-->
</div>

<!-- ./wrapper -->

<!-- jQuery 3 -->

<div th:replace="admin/fragments/script::script"></div>
</body>
</html>